(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){e.exports={link:"CategoryItem_link__2qeYY",card:"CategoryItem_card__1GmAc"}},106:function(e,t,n){e.exports={phonecall:"CallButton_phonecall__2sq1N",pulse:"CallButton_pulse__2Fjjb",phone:"CallButton_phone__ZCVCm"}},118:function(e,t,n){e.exports={carousel:"Carousel_carousel__1FmzQ"}},134:function(e,t,n){e.exports={card:"CategoryList_card__2B0Pl"}},136:function(e,t,n){e.exports={card:"CartView_card__3eckA"}},140:function(e,t,n){e.exports={link:"OrderView_link__2xi8w"}},141:function(e,t,n){e.exports={card:"DishesItem_card__1nqrM"}},142:function(e,t,n){e.exports={card:"DishesList_card__1aREl"}},143:function(e,t,n){e.exports={viewContainer:"ViewContainer_viewContainer__oFkXT"}},144:function(e,t,n){e.exports={cookDish:"CookDish_cookDish__1d6Mi"}},145:function(e,t,n){e.exports={cookTask:"CookTask_cookTask__2qUUN"}},146:function(e,t,n){e.exports={viewContainer:"AdminViewContainer_viewContainer__3SsSn"}},147:function(e,t,n){e.exports={dishesList:"Dish_dishesList__22mwC",margin:"Dish_margin__2Ne3I"}},148:function(e,t,n){e.exports={taskRoom:"TaskRoom_taskRoom__2vsDd"}},171:function(e,t,n){},172:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(35),s=n.n(a),i=n(16),o=(n(171),n(24)),d=n(20),j=(n(172),{INIT_USER:"INIT_USER",INIT_ERROR_USER:"INIT_ERROR_USER"}),l=function(e){return{type:j.INIT_USER,payload:e}},u=n(0);var b=function(e){var t=e.children,n=Object(i.b)(),c=Object(d.g)();return Object(r.useEffect)((function(){var e=window.location.pathname;"/login"!==e&&"/staff"!==e&&"/logout"!==e&&fetch("/isauth",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.user&&n(l(e.user)),e.redirect&&c.push("/login")}))}),[n,c]),Object(u.jsx)(u.Fragment,{children:t})},O=n(228),h=n(118),x=n.n(h);var p=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(O.a,{className:x.a.carousel,children:[Object(u.jsxs)(O.a.Item,{interval:2500,children:[Object(u.jsx)("img",{className:"d-block w-100",src:"/img/carousel/soup-cat.jpg",alt:"First slide"}),Object(u.jsx)(O.a.Caption,{children:Object(u.jsx)("h6",{children:"\u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u0432\u0435\u0436\u0438\u0435 \u0431\u043b\u044e\u0434\u0430"})})]}),Object(u.jsxs)(O.a.Item,{interval:2500,children:[Object(u.jsx)("img",{className:"d-block w-100",src:"/img/carousel/garnish-cat.jpg",alt:"Second slide"}),Object(u.jsx)(O.a.Caption,{children:Object(u.jsx)("h6",{children:"\u0411\u044b\u0441\u0442\u0440\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"})})]}),Object(u.jsxs)(O.a.Item,{interval:2500,children:[Object(u.jsx)("img",{className:"d-block w-100",src:"/img/carousel/garnish-cat.jpg",alt:"Third slide"}),Object(u.jsx)(O.a.Caption,{children:Object(u.jsx)("h6",{children:"\u0412\u044b\u0441\u043e\u043a\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e"})})]})]})})},m=n(237),_=n(239),f=n(241),g=n(102),E=n.n(g);var v=function(e){var t=e.category;return Object(u.jsx)(m.a,{className:E.a.card,sx:{maxWidth:345,margin:2,justifyContent:"space-between",borderRadius:3},children:Object(u.jsxs)(o.b,{to:"/categories/".concat(t.id),className:E.a.link,children:[Object(u.jsx)(_.a,{title:t.name}),Object(u.jsx)(f.a,{component:"img",image:t.picture,alt:"Food"})]})})},y=n(13),R=n(6),T=n(233),S=n(242),C=n(243),N=n(244),I=n(240),k=n(245),D=n(246),w=n(151),A=n(232),L=n(126),G=n.n(L),H=n(129),F=n.n(H),B=n(127),M=n.n(B),P=n(128),U=n.n(P),q=n(36),W=n.n(q),J=function(){var e=Object(i.c)((function(e){return e.cart.cart})).reduce((function(e,t){return e+t.quantity}),0),t=r.useState(null),n=Object(y.a)(t,2),c=n[0],a=n[1],s=function(){a(null)},d=Object(R.a)(T.a)((function(e){var t=e.theme;return{"& .MuiBadge-badge":{right:-3,top:13,border:"2px solid ".concat(t.palette.background.paper),padding:"0 4px"}}}));return Object(u.jsx)(S.a,{className:W.a.nav,position:"sticky",children:Object(u.jsx)(C.a,{children:Object(u.jsxs)(N.a,{disableGutters:!0,children:[Object(u.jsx)(I.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex",color:"white"}}}),Object(u.jsxs)(k.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(u.jsx)(D.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(u.jsx)(G.a,{})}),Object(u.jsxs)(w.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(c),onClose:s,sx:{display:{xs:"block",md:"none"}},children:[Object(u.jsx)(A.a,{onClick:s,children:Object(u.jsx)(o.b,{to:"/categories",className:W.a.link,children:Object(u.jsxs)(I.a,{textAlign:"center",children:[Object(u.jsx)(M.a,{style:{color:"#6868ac",marginRight:"10px"}}),"\u041c\u0435\u043d\u044e"]})})}),Object(u.jsx)(A.a,{onClick:s,children:Object(u.jsx)(o.b,{to:"/orders",className:W.a.link,children:Object(u.jsxs)(I.a,{textAlign:"center",children:[Object(u.jsx)(U.a,{style:{color:"#6868ac",marginRight:"10px"}}),"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"]})})})]})]}),Object(u.jsx)(I.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:Object(u.jsx)(o.b,{to:"/",className:W.a.link_header,children:"RestoRunner"})}),Object(u.jsxs)(k.a,{className:W.a.link_header,sx:{flexGrow:1,display:{xs:"none",md:"flex"}},style:{justifyContent:"center"},children:[Object(u.jsx)(A.a,{onClick:s,className:W.a.link_header,children:Object(u.jsx)(o.b,{to:"/categories",className:W.a.link_header,children:Object(u.jsx)(I.a,{textAlign:"center",className:W.a.link_header,children:"\u041c\u0435\u043d\u044e"})})}),Object(u.jsx)(A.a,{onClick:s,className:W.a.link_header,children:Object(u.jsx)(o.b,{to:"/orders",className:W.a.link_header,children:Object(u.jsx)(I.a,{textAlign:"center",className:W.a.link_header,children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"})})})]}),Object(u.jsx)(k.a,{sx:{flexGrow:0},children:Object(u.jsx)(o.b,{to:"/cart",underline:"none",children:Object(u.jsx)(D.a,{sx:{p:1,bgcolor:"white"},"aria-label":"cart",children:Object(u.jsx)(d,{badgeContent:e,color:"secondary",children:Object(u.jsx)(F.a,{})})})})})]})})})},z=n(106),V=n.n(z),Y=n(130),Q=n.n(Y);var X=function(e){return Object(u.jsx)("div",{className:V.a.phonecall,children:Object(u.jsx)("a",{href:"tel:+79814080769",className:V.a.phone,children:Object(u.jsx)(Q.a,{})})})},K=n(65),Z=n.n(K),$=n(131),ee=n.n($),te=n(132),ne=n.n(te),re=n(133),ce=n.n(re);var ae=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:Z.a.footer,children:Object(u.jsxs)(k.a,{className:Z.a.icons,children:[Object(u.jsx)(ee.a,{className:Z.a.icon,onClick:function(){return window.location.assign("https://www.instagram.com")}}),Object(u.jsx)(ne.a,{onClick:function(){return window.location.assign("https://web.telegram.org/")},className:Z.a.icon}),Object(u.jsx)(ce.a,{onClick:function(){return window.location.assign("https://www.whatsapp.com/")},className:Z.a.icon})]})})})},se={INIT_CATEGORIES:"INIT_CATEGORIES",GET_CATEGORIES:"GET_CATEGORIES",GET_FETCH_CATEGORIES:"GET_FETCH_CATEGORIES",INIT_ERROR_CATEGORIES:"INIT_ERROR_CATEGORIES"},ie=n(134),oe=n.n(ie);function de(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.categories.categories.categories}));Object(r.useEffect)((function(){e({type:se.GET_FETCH_CATEGORIES})}),[e]);var n=Object(d.h)();return Object(u.jsxs)(u.Fragment,{children:["/"!==n.pathname?Object(u.jsx)(J,{}):null,Object(u.jsx)("div",{className:oe.a.card,children:t&&t.map((function(e){return Object(u.jsx)(v,{category:e},e.id)}))}),Object(u.jsx)(X,{}),Object(u.jsx)(ae,{})]})}var je=n(4),le=n(221),ue=n(28),be=n(135),Oe=n.n(be),he={GET_ALL_DISHES:"GET_ALL_DISHES",ERROR_ALL_DISHES:"ERROR_ALL_DISHES",INIT_SEARCH:"INIT_SEARCH"},xe=Object(R.a)("div")((function(e){var t=e.theme;return Object(je.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(le.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(le.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),pe=Object(R.a)(ue.c)((function(e){var t=e.theme;return{color:"inherit",backgroundColor:"","& .MuiInputBase-input":Object(je.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function me(){var e=Object(i.b)(),t=Object(r.useRef)(),n=Object(d.g)();return Object(r.useEffect)((function(){fetch("/search").then((function(e){return e.json()})).then((function(t){return e({type:he.GET_ALL_DISHES,payload:t})}))}),[e]),Object(u.jsx)("div",{children:Object(u.jsx)(k.a,{sx:{flexGrow:1},children:Object(u.jsx)(S.a,{color:"transparent",position:"static",children:Object(u.jsx)(N.a,{children:Object(u.jsxs)(xe,{children:[Object(u.jsx)(Oe.a,{onClick:function(){return e({type:he.INIT_SEARCH,payload:t.current.value}),void n.push("/search")}}),Object(u.jsx)(pe,{inputRef:t,placeholder:"\u041d\u0430\u0439\u0442\u0438...",inputProps:{"aria-label":"search"}})]})})})})})}var _e=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)(J,{}),Object(u.jsx)(me,{}),Object(u.jsx)(p,{}),Object(u.jsx)(de,{}),Object(u.jsx)(X,{}),Object(u.jsx)(ae,{})]})},fe=n(247),ge=n(248),Ee=n(249),ve=n(138),ye=n.n(ve),Re=n(137),Te=n.n(Re),Se={SEND_CART:"SEND_CART",POST_SEND_CART:"POST_SEND_CART",INCREMENT_CART:"INCREMENT_CART",DECREMENT_CART:"DECREMENT_CART",DELETE_ONE_POSITION:"DELETE_ONE_POSITION",INIT_ERROR_CART:"INIT_ERROR_CART"},Ce=n(226),Ne=n(136),Ie=n.n(Ne),ke=n(139),De=n.n(ke),we=Object(R.a)(T.a)((function(e){var t=e.theme;return{"& .MuiBadge-badge":{right:10,top:14,border:"2px solid ".concat(t.palette.background.paper),padding:"13px 10px",borderRadius:"20px"}}}));function Ae(e){var t=e.product,n=Object(i.b)();return Object(u.jsxs)(m.a,{className:Ie.a.card,sx:{display:"flex",marginTop:"10px",marginBottom:"10px",marginRight:"auto",marginLeft:"auto",borderRadius:"10px",maxWidth:"600px"},children:[Object(u.jsx)(we,{badgeContent:t.quantity,color:"secondary",children:Object(u.jsx)(f.a,{component:"img",sx:{width:150,margin:"10px",borderRadius:"10px"},image:t.picture,alt:"button"})}),Object(u.jsxs)(k.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(u.jsxs)(fe.a,{sx:{flex:"1 0 auto"},children:[Object(u.jsx)(I.a,{component:"div",variant:"h5",children:t.name}),Object(u.jsxs)(I.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:["\u0426\u0435\u043d\u0430: ",t.price]})]}),Object(u.jsxs)(k.a,{sx:{display:"flex",flexDirection:"raw"},children:[Object(u.jsxs)(ge.a,{sx:{paddingBottom:"10px",paddingLeft:"20px"},children:[Object(u.jsx)(Ee.a,{"aria-label":"reduce",onClick:function(){n({type:Se.DECREMENT_CART,payload:t})},children:Object(u.jsx)(Te.a,{fontSize:"small"})}),Object(u.jsx)(Ee.a,{"aria-label":"increase",onClick:function(){n({type:Se.INCREMENT_CART,payload:t})},children:Object(u.jsx)(ye.a,{fontSize:"small"})})]}),Object(u.jsx)(Ce.a,{sx:{paddingBottom:"10px"},spacing:1,children:Object(u.jsx)(D.a,{color:"default","aria-label":"delete",onClick:function(){n({type:Se.DELETE_ONE_POSITION,payload:t.id})},children:Object(u.jsx)(De.a,{})})})]})]})]})}var Le=n(10),Ge=n(238),He=n(235),Fe=n(140),Be=n.n(Fe),Me=n(231);function Pe(){var e=Object(R.a)("div")((function(e){var t=e.theme;return Object(Le.a)(Object(Le.a)({},t.typography.button),{},{backgroundColor:t.palette.background.paper,padding:t.spacing(3)})})),t=Object(i.c)((function(e){return e.user.user})),n=Object(i.c)((function(e){return e.cart.cart})),c=n.reduce((function(e,t){return e+t.price}),0),a=n.reduce((function(e,t){return e+t.quantity}),0),s=Object(i.c)((function(e){return e.cart.cart})).map((function(e){return e.time})).sort((function(e,t){return t-e}))[0],d=Object(i.b)(),j=r.useState(""),l=Object(y.a)(j,2),b=l[0],O=l[1];return Object(u.jsx)(Ge.a,{sx:{p:2,margin:"auto",marginBottom:10,maxWidth:600,flexGrow:1,borderRadius:3},children:n.length<1?Object(u.jsxs)("div",{children:[""===b?Object(u.jsx)(e,{children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0443\u0441\u0442\u0430\u044f"}):Object(u.jsx)("div",{children:b}),Object(u.jsx)(o.b,{to:"/categories",className:Be.a.link,children:Object(u.jsx)(Ee.a,{sx:{margin:1},variant:"contained",color:"success",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043c\u0435\u043d\u044e"})})]}):Object(u.jsx)(He.a,{container:!0,children:Object(u.jsx)(He.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(u.jsxs)(He.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[Object(u.jsxs)(He.a,{item:!0,xs:!0,children:[Object(u.jsx)(I.a,{variant:"body1",component:"div",children:"\u041e\u0411\u0429\u0410\u042f \u0421\u0423\u041c\u041c\u0410 \u0417\u0410\u041a\u0410\u0417\u0410:"}),Object(u.jsx)(He.a,{item:!0,children:Object(u.jsxs)(I.a,{variant:"body1",component:"div",children:[c," \u0440\u0443\u0431."]})}),Object(u.jsxs)(I.a,{variant:"body2",gutterBottom:!0,children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043b\u044e\u0434: ",a]}),s&&Object(u.jsxs)(I.a,{variant:"body2",color:"text.secondary",children:["\u0412\u0440\u0435\u043c\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: ",s+5," \u043c\u0438\u043d\u0443\u0442"]})]}),Object(u.jsx)(He.a,{item:!0,children:Object(u.jsx)(Ee.a,{onClick:function(e){e.preventDefault(),d({type:Se.POST_SEND_CART,payload:{totalCart:n,totalSum:c,totalQuantity:a,user:t}}),localStorage.clear(),O((function(){return Object(u.jsx)(Ce.a,{sx:{width:"100%"},spacing:2,children:Object(u.jsx)(Me.a,{severity:"success",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442!"})})}))},variant:"contained",color:"success",children:"\u041e\u0424\u041e\u0420\u041c\u0418\u0422\u042c \u0417\u0410\u041a\u0410\u0417"})})]})})})})}var Ue=function(){var e=Object(i.c)((function(e){return e.cart.cart}));return Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)(J,{}),Object(u.jsx)("h1",{style:{marginTop:"15px"},children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),e.map((function(e){return Object(u.jsx)(Ae,{product:e},e.id)})),Object(u.jsx)(Pe,{}),Object(u.jsx)(X,{}),Object(u.jsx)(ae,{})]})},qe=n(43),We=n(141),Je=n.n(We),ze=n(250),Ve=["expand"];var Ye=function(e){var t=e.dish,n=Object(i.b)(),c=Object(R.a)((function(e){e.expand;var t=Object(qe.a)(e,Ve);return Object(u.jsx)(D.a,Object(Le.a)({},t))}))((function(e){e.theme,e.expand;return{}})),a=Object(r.useState)(!1),s=Object(y.a)(a,2),o=s[0],d=s[1];return Object(u.jsxs)(m.a,{className:Je.a.card,sx:{maxWidth:350,margin:2,justifyContent:"space-between",borderRadius:3},children:[Object(u.jsx)(_.a,{title:t.name,sx:{minHeight:86}}),Object(u.jsx)(f.a,{sx:{minHeight:145},component:"img",image:t.picture,alt:"Food"}),Object(u.jsx)(fe.a,{children:Object(u.jsxs)(I.a,{variant:"h5",color:"text.primary",style:{marginBottom:-20},children:[t.price," \u20bd"]})}),Object(u.jsx)(fe.a,{sx:{minHeight:200},children:Object(u.jsx)(I.a,{paragraph:!0,children:t.description})}),Object(u.jsxs)(fe.a,{children:[Object(u.jsx)(Ee.a,{sx:{margin:1},onClick:function(e){e.preventDefault(),n({type:Se.INCREMENT_CART,payload:Object(Le.a)({},t)})},variant:"contained",color:"success",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),Object(u.jsx)(c,{expand:o,onClick:function(){d(!o)},"aria-expanded":o,"aria-label":"\u0421\u043e\u0441\u0442\u0430\u0432",children:Object(u.jsx)(Ee.a,{variant:"outlined",children:"\u0421\u043e\u0441\u0442\u0430\u0432"})}),Object(u.jsx)(ze.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(u.jsx)(fe.a,{children:Object(u.jsxs)(I.a,{variant:"body2",color:"text.secondary",children:["\u0421\u043e\u0441\u0442\u0430\u0432: ",t.ingredients]})})})]})]})},Qe={INIT_DISHES:"INIT_DISHES",GET_FETCH_DISHES:"GET_FETCH_DISHES",INIT_ERROR_DISHES:"INIT_ERROR_DISHES"},Xe=n(142),Ke=n.n(Xe);function Ze(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.dishes.dishes.dishes})),n=Object(d.i)().id;return Object(r.useEffect)((function(){e({type:Qe.GET_FETCH_DISHES,payload:Number(n)})}),[e,n]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{}),Object(u.jsx)("div",{className:Ke.a.card,children:t&&t.map((function(e){return Object(u.jsx)(Ye,{dish:e},e.id)}))}),Object(u.jsx)(X,{}),Object(u.jsx)(ae,{})]})}var $e={INIT_MY_ORDERS:"INIT_MY_ORDERS",INIT_ERROR_MY_ORDERS:"INIT_ERROR_MY_ORDERS"},et=Object(R.a)(T.a)((function(e){var t=e.theme;return{"& .MuiBadge-badge":{right:10,top:14,border:"2px solid ".concat(t.palette.background.paper),padding:"13px 10px",borderRadius:"20px"}}}));var tt=function(e){var t=e.order,n=t[0]["Orders.createdAt"].replace(/[a-zA-Z]/g," ").slice(0,16);return Object(u.jsxs)(m.a,{sx:{borderRadius:"10px",marginTop:"10px",marginBottom:"10px",marginRight:"10px",marginLeft:"10px"},children:[Object(u.jsx)(_.a,{title:"\u2116 \u0437\u0430\u043a\u0430\u0437\u0430 ".concat(t[0]["Orders.id"]),subheader:n}),t.map((function(e){return Object(u.jsxs)(m.a,{sx:{display:"flex",justifyContent:"space-evenly",marginTop:"10px",marginBottom:"10px",marginRight:"10px",marginLeft:"10px",borderRadius:"10px"},children:[Object(u.jsx)(et,{badgeContent:e["Orders.Order_Dish.quantity"],color:"secondary",children:Object(u.jsx)(f.a,{component:"img",sx:{width:150,margin:"10px",borderRadius:"10px"},image:e.picture,alt:"button"})}),Object(u.jsx)(k.a,{sx:{display:"flex",flexDirection:"column"},children:Object(u.jsxs)(fe.a,{sx:{flex:"1 0 auto"},children:[Object(u.jsx)(I.a,{component:"div",variant:"h5",children:e.name}),Object(u.jsxs)(I.a,{variant:"subtitle1",color:"text.secondary",component:"div",children:["\u0426\u0435\u043d\u0430 \u0437\u0430 \u0448\u0442 ",e.price,"\u20bd"]})]})})]})})),Object(u.jsxs)(I.a,{variant:"h6",color:"text.secondary",component:"div",children:["\u0418\u0422\u041e\u0413\u041e: ",t[0]["Orders.totalSum"]," \u20bd"]})]})};var nt=function(){var e=Object(i.c)((function(e){return e.myOrders.myOrders})),t=Object(i.b)();return Object(r.useEffect)((function(){fetch("/orders").then((function(e){return e.json()})).then((function(e){return t({type:$e.INIT_MY_ORDERS,payload:e.objOrders})}))}),[t]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",marginBottom:60},children:e&&Object.entries(e).map((function(e){var t=Object(y.a)(e,2),n=t[0],r=t[1];return Object(u.jsx)(tt,{order:r},n)}))}),Object(u.jsx)(X,{}),Object(u.jsx)(ae,{})]})},rt=n(236);var ct=function(){var e=Object(d.i)().roomid,t=Object(rt.a)(["roomid"]),n=Object(y.a)(t,2),r=n[0],c=n[1],a=new Date;return a.setTime(a.getTime()+864e5),c("roomid",e,{path:"/",expires:a}),console.log(r),Object(u.jsx)(d.a,{to:"/login"})},at=n(227),st=n(229);var it=function(e){var t=Object(rt.a)(["roomid"]),n=Object(y.a)(t,1)[0].roomid,c=Object(d.g)(),a=Object(i.b)(),s=Object(r.useState)(!1),o=Object(y.a)(s,2),j=o[0],b=o[1],O=Object(r.useState)("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 pincode"),h=Object(y.a)(O,2),x=h[0],p=h[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{}),n?Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsx)(I.a,{variant:"h6",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438 PinCode, \u0432\u044b\u0434\u0430\u043d\u043d\u044b\u0439 \u043d\u0430 \u0440\u0435\u0441\u0435\u043f\u0448\u043d\u0435"}),Object(u.jsx)("br",{}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),r={roomid:n,phone:t.get("phone"),pincode:t.get("pincode")};fetch("/login",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){e.error?(b(!0),p(e.error)):e.user?(a(l(e.user)),c.push("/")):(console.log("error set to false!"),b(!0))}))},children:[Object(u.jsx)(st.a,{style:{width:"163px",margin:"5px"},type:"text",label:"phone",variant:"outlined",name:"phone"}),Object(u.jsx)("br",{}),Object(u.jsx)(st.a,{style:{width:"163px",margin:"5px"},type:"text",label:"pincode",variant:"outlined",name:"pincode"}),Object(u.jsx)("br",{}),Object(u.jsx)(Ee.a,{type:"submit",variant:"contained",color:"secondary",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),j&&Object(u.jsx)("div",{id:"errorBlock",className:"highLightError",children:x})]}):Object(u.jsx)("div",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 QR \u043a\u043e\u0434 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430"}),Object(u.jsx)(X,{}),Object(u.jsx)(ae,{})]})};var ot=function(e){var t=Object(d.g)(),n=Object(i.b)(),c=Object(r.useState)(!1),a=Object(y.a)(c,2),s=a[0],o=a[1],j=Object(r.useState)("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430"),b=Object(y.a)(j,2),O=b[0],h=b[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsx)(I.a,{variant:"h6",children:"\u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0430 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0430"}),Object(u.jsx)(I.a,{variant:"h6",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438 PinCode"}),Object(u.jsx)("br",{}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=new FormData(e.currentTarget),c={phone:r.get("phone"),pincode:r.get("pincode")};fetch("/login",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){e.error?(o(!0),h(e.error)):e.user?(n(l(e.user)),"manager"===e.user.role?t.push("/admin"):"cookmaster"===e.user.role&&t.push("/cookmaster")):o(!0)}))},children:[Object(u.jsx)(st.a,{style:{width:"163px",margin:"5px"},type:"text",label:"phone",variant:"outlined",name:"phone"}),Object(u.jsx)("br",{}),Object(u.jsx)(st.a,{style:{width:"163px",margin:"5px"},type:"text",label:"pincode",variant:"outlined",name:"pincode"}),Object(u.jsx)("br",{}),Object(u.jsx)(Ee.a,{type:"submit",variant:"contained",color:"primary",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),s&&Object(u.jsx)("div",{id:"errorBlock",className:"highLightError",children:O})]})]})},dt=function(){var e=Object(i.b)(),t=Object(d.g)();return fetch("/logout",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(n){console.log(n),n.logoutComplete?(e(l({})),t.push("/login")):alert("logout failed")})),Object(u.jsx)(u.Fragment,{})};var jt=function(e){var t=Object(i.c)((function(e){return e.allDishes.mySearch}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{}),Object(u.jsx)("div",{style:{display:"flex",alignContent:"stretch",flexWrap:"wrap",justifyContent:"center"},children:t&&t.map((function(e){return Object(u.jsx)(Ye,{dish:e},e.id)}))}),Object(u.jsx)(X,{}),Object(u.jsx)(ae,{})]})},lt=n(143),ut=n.n(lt),bt={GET_ORDERS:"GET_ORDERS",CHANGE_STATUS_ORDER:"CHANGE_STATUS_ORDER",DELETE_DISH:"DELETE_DISH",CHANGE_ORDER:"CHANGE_ORDER",INIT_ERROR_ORDER:"INIT_ERROR_ORDER"},Ot=n(86),ht=n.n(Ot),xt=n(144),pt=n.n(xt);var mt=function(e){var t=e.dish;return Object(u.jsxs)("div",{className:pt.a.cookDish,children:[Object(u.jsx)("p",{children:t.category}),Object(u.jsx)("p",{children:t.name}),Object(u.jsx)("p",{children:t.quantity&&"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(t.quantity," \u0448\u0442\u0443\u043a")})]})},_t=n(145),ft=n.n(_t);var gt=function(e){var t=e.order,n=Object(i.b)(),r=function(){fetch("/cook/changeStatus",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return n({type:bt.CHANGE_STATUS_ORDER,payload:e})}))};return Object(u.jsxs)("div",{onDoubleClick:function(){"submitOrder"===t.currentStatus?(t.currentStatus="admitOrder",r()):"admitOrder"===t.currentStatus?(t.currentStatus="successOrder",r()):"successOrder"===t.currentStatus&&(t.currentStatus="sendOrder",r())},className:ft.a.cookTask,children:[Object(u.jsxs)("h3",{children:["Order ",t.id]}),t.dishes.length&&t.dishes.map((function(e){return Object(u.jsx)(mt,{dish:e},e.id)})),console.log(t.dishes)]})},Et={submit:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",admit:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",success:"\u0418\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"},vt={submit:"red",admit:"yellow",success:"green"};var yt=function(e){var t=e.status,n=Object(i.b)(),c=Object(i.c)((function(e){return e.adminOrders}));return Object(r.useEffect)((function(){fetch("/cook/order").then((function(e){return e.json()})).then((function(e){return n({type:bt.GET_ORDERS,payload:e.orders})}))}),[n]),Object(u.jsxs)("div",{className:ht.a.cookTaskList,children:[Object(u.jsx)("h2",{className:ht.a.cookTaskList__title,children:Et[t]}),Object(u.jsx)("div",{className:ht.a.cookTaskList__container,style:{backgroundColor:vt[t]},children:c.orders.length&&c.orders.filter((function(e){return e.currentStatus==="".concat(t,"Order")})).map((function(e){return Object(u.jsx)(gt,{order:e},e.id)}))})]})},Rt="submit",Tt="admit",St="success";var Ct=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447"}),Object(u.jsxs)("section",{className:ut.a.viewContainer,children:[Object(u.jsx)(yt,{status:Rt}),Object(u.jsx)(yt,{status:Tt}),Object(u.jsx)(yt,{status:St})]})]})},Nt=n(146),It=n.n(Nt),kt=n(59),Dt=n.n(kt),wt=n(66),At=n.n(wt),Lt=(n(176),{awaitOrder:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",submitOrder:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u043a\u0443\u0445\u043d\u044e",admitOrder:"\u0418\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 \u043d\u0430 \u043a\u0443\u0445\u043d\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",successOrder:"\u0418\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043a\u0443\u0445\u043d\u0435\u0439 \u0437\u0430\u0434\u0430\u0447\u0438, \u043e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",sendOrder:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435"});var Gt=function(e){var t=e.order,n=e.isEditOpen,r=e.isEditClose,c=Object(i.b)();return Object(u.jsx)("div",{className:"modal_wrapper ".concat(n?"open":"close"),children:Object(u.jsx)("div",{className:"modal_body",children:Object(u.jsxs)("section",{className:At.a.card,children:[Object(u.jsxs)("h2",{children:["\u041a\u0430\u0440\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u0438\u0437 \u043a\u043e\u043c\u043d\u0430\u0442\u044b ",t.room]}),Object(u.jsx)("p",{children:Lt[t.currentStatus]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["\u0413\u043e\u0441\u0442\u044c ",t.userName]}),Object(u.jsxs)("p",{children:["\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: ",t.phone]})]}),Object(u.jsxs)("div",{className:At.a.card__description,children:[Object(u.jsxs)("h3",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116 ",t.id]}),Object(u.jsxs)("p",{children:["\u0418\u0442\u043e\u0433\u043e: ",t.totalSum," \u0440\u0443\u0431\u043b\u0435\u0439"]})]}),Object(u.jsxs)("div",{className:At.a.card__fieldButton,children:[Object(u.jsx)("button",{className:At.a.card__button,style:{backgroundColor:"red"},onClick:r,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(u.jsx)("button",{className:At.a.card__button,style:{backgroundColor:"green"},onClick:function(){"awaitOrder"===t.currentStatus?(t.currentStatus="submitOrder",fetch("/admin/changeOrder",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return c({type:bt.CHANGE_ORDER,payload:e})})),r()):r()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})})},Ht=(n(177),n(147)),Ft=n.n(Ht);var Bt=function(e){var t=e.dish;return Object(u.jsxs)("div",{className:Ft.a.dishesList,children:[Object(u.jsx)("p",{children:t.category}),Object(u.jsx)("p",{children:t.name}),Object(u.jsxs)("p",{children:[t.price," \u0440\u0443\u0431\u043b\u0435\u0439"]}),Object(u.jsxs)("p",{children:[t.quantity," \u0448\u0442\u0443\u043a"]}),Object(u.jsxs)("p",{children:["\u0418\u0442\u043e\u0433\u043e ",t.quantity*t.price," \u0440\u0443\u0431\u043b\u0435\u0439"]})]})},Mt=n(47),Pt=n.n(Mt);var Ut=function(e){var t=e.dish,n=e.index,c=e.order,a=Object(i.b)();Object(r.useEffect)((function(){fetch("/categories").then((function(e){return e.json()})).then((function(e){return a({type:se.INIT_CATEGORIES,payload:e})}))}),[a]),Object(r.useEffect)((function(){fetch("/admin/order").then((function(e){return e.json()})).then((function(e){return a({type:bt.GET_ORDERS,payload:e.orders})}))}),[a]);for(var s=Object(r.useState)(1),o=Object(y.a)(s,2),d=o[0],j=o[1],l=[],b=0;b<100;b+=1)l.push(b+1);return Object(u.jsxs)("div",{className:Pt.a.dishesList,children:[Object(u.jsx)("p",{className:Pt.a.margin,children:t.category}),Object(u.jsx)("p",{className:Pt.a.margin,children:t.name}),Object(u.jsxs)("p",{className:Pt.a.margin,children:[t.price," \u0440\u0443\u0431\u043b\u0435\u0439"]}),Object(u.jsxs)("div",{className:Pt.a.select,children:[Object(u.jsx)("label",{forHtml:"amount",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(u.jsx)("select",{className:Pt.a.marginSelect,onChange:function(e){var t=e.target;j(t.value)},name:"amount",min:1,max:100,children:l.map((function(e){return Object(u.jsx)("option",{value:e,children:e})}))})]}),Object(u.jsxs)("p",{className:Pt.a.margin,children:["\u0418\u0442\u043e\u0433\u043e ",d*t.price," \u0440\u0443\u0431\u043b\u0435\u0439"]}),Object(u.jsx)("button",{className:Pt.a.button,onClick:function(e){e.preventDefault();var r={};r.index=n,r.orderId=c.id,r.dishId=t.id,r.dishCreatedAt=t.createdAt,r.dishUpdateAt=t.updatedAt,fetch("/admin/dish",{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)}),a({type:bt.DELETE_DISH,payload:r})},children:"\xd7"})]})},qt={awaitOrder:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",submitOrder:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u043a\u0443\u0445\u043d\u044e",admitOrder:"\u0418\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 \u043d\u0430 \u043a\u0443\u0445\u043d\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",successOrder:"\u0418\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043a\u0443\u0445\u043d\u0435\u0439 \u0437\u0430\u0434\u0430\u0447\u0438, \u043e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",sendOrder:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435"};var Wt=function(e){var t=e.order,n=e.isOpen,c=e.isClose,a=e.isEditOpen,s=e.isEditClose,o=Object(r.useState)(!1),d=Object(y.a)(o,2),j=d[0],l=d[1],b=Object(i.b)(),O=function(){fetch("/admin/changeStatus",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return b({type:bt.CHANGE_STATUS_ORDER,payload:e})})),c()};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"modal_wrapper ".concat(n?"open":"close"," ").concat(t.currentStatus),children:Object(u.jsx)("div",{className:"modal_body",children:Object(u.jsxs)("section",{className:Dt.a.card,children:[Object(u.jsxs)("h2",{children:["\u041a\u0430\u0440\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u0438\u0437 \u043a\u043e\u043c\u043d\u0430\u0442\u044b ",t.room]}),Object(u.jsx)("p",{children:qt[t.currentStatus]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["\u0413\u043e\u0441\u0442\u044c ",t.userName]}),Object(u.jsxs)("p",{children:["\u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: ",t.phone," "]})]}),Object(u.jsxs)("div",{className:Dt.a.card__description,children:[Object(u.jsxs)("h3",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116 ",t.id]}),t&&!j&&t.dishes[0].id&&t.dishes.map((function(e){return Object(u.jsx)(Bt,{dish:e},e.id)})),t&&j&&t.dishes[0].id&&t.dishes.map((function(e,n){return Object(u.jsx)(Ut,{index:n,order:t,dish:e},e.id)})),Object(u.jsxs)("p",{children:["\u0418\u0442\u043e\u0433\u043e: ",t.totalSum," \u0440\u0443\u0431\u043b\u0435\u0439"]})]}),Object(u.jsxs)("div",{className:Dt.a.card__fieldButton,children:[Object(u.jsx)("button",{className:Dt.a.card__button,style:{backgroundColor:"red"},onClick:function(){l(!1),c()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),"awaitOrder"===t.currentStatus&&Object(u.jsx)("button",{className:Dt.a.card__button,style:{backgroundColor:"yellow"},onClick:function(){l(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),("awaitOrder"===t.currentStatus||"sendOrder"===t.currentStatus)&&Object(u.jsx)("button",{className:Dt.a.card__button,style:{backgroundColor:"green"},onClick:function(){"awaitOrder"===t.currentStatus?(t.currentStatus="submitOrder",O()):"sendOrder"===t.currentStatus?(t.currentStatus="endOrder",O()):c()},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 \u0440\u0430\u0431\u043e\u0442\u0443"})]})]})})}),Object(u.jsx)(Gt,{order:t,isEditOpen:a,isEditClose:s})]})},Jt=n(148),zt=n.n(Jt);var Vt=function(e){var t=e.order,n=Object(r.useState)(!1),c=Object(y.a)(n,2),a=c[0],s=c[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:zt.a.taskRoom,onClick:function(){return s(!0)},children:["\u041a\u043e\u043c\u043d\u0430\u0442\u0430 \u2116",t.room]}),Object(u.jsx)(Wt,{order:t,isOpen:a,isClose:function(){return s(!1)}})]})},Yt=n(87),Qt=n.n(Yt),Xt={await:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",submit:"\u0417\u0430\u0434\u0430\u0447\u0438, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u043a\u0443\u0445\u043d\u044e",admit:"\u0418\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 \u043d\u0430 \u043a\u0443\u0445\u043d\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",success:"\u0418\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043a\u0443\u0445\u043d\u0435\u0439 \u0437\u0430\u0434\u0430\u0447\u0438, \u043e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",send:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435"},Kt={await:"red",submit:"blue",admit:"yellow",success:"green",send:"lawnGreen"};var Zt=function(e){var t=e.status,n=Object(i.b)(),c=Object(i.c)((function(e){return e.adminOrders}));return Object(r.useEffect)((function(){fetch("/admin/order").then((function(e){return e.json()})).then((function(e){return n({type:bt.GET_ORDERS,payload:e.orders})}))}),[n]),Object(u.jsxs)("div",{className:Qt.a.adminTaskList,children:[Object(u.jsx)("h3",{className:Qt.a.adminTaskList__title,children:Xt[t]}),Object(u.jsx)("div",{className:Qt.a.adminTaskList__container,style:{backgroundColor:Kt[t]},children:c.orders.length&&c.orders.filter((function(e){return e.currentStatus==="".concat(t,"Order")})).map((function(e){return Object(u.jsx)(Vt,{order:e},e.id)}))})]})},$t="await",en="submit",tn="admit",nn="success",rn="send";var cn=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447"}),Object(u.jsxs)("section",{className:It.a.viewContainer,children:[Object(u.jsx)(Zt,{status:$t}),Object(u.jsx)(Zt,{status:en}),Object(u.jsx)(Zt,{status:tn}),Object(u.jsx)(Zt,{status:nn}),Object(u.jsx)(Zt,{status:rn})]})]})};var an=function(e){var t=Object(i.c)((function(e){return e.cart.cart}));return Object(r.useEffect)((function(){localStorage.setItem("user_cart",JSON.stringify(t))}),[t]),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(at.a,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(b,{children:Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{path:"/",exact:!0,component:_e}),Object(u.jsx)(d.b,{path:"/cart",exact:!0,component:Ue}),Object(u.jsx)(d.b,{path:"/categories",exact:!0,component:de}),Object(u.jsx)(d.b,{path:"/categories/:id",exact:!0,component:Ze}),Object(u.jsx)(d.b,{path:"/orders",exact:!0,component:nt}),Object(u.jsx)(d.b,{path:"/search",exact:!0,component:jt}),Object(u.jsx)(d.b,{path:"/login",exact:!0,component:it}),Object(u.jsx)(d.b,{path:"/logout",exact:!0,component:dt}),Object(u.jsx)(d.b,{path:"/room/:roomid",exact:!0,component:ct}),Object(u.jsx)(d.b,{path:"/staff",exact:!0,component:ot}),Object(u.jsx)(d.b,{path:"/cookmaster",exact:!0,component:Ct}),Object(u.jsx)(d.b,{path:"/admin",exact:!0,component:cn})]})})})})})},sn=n(51),on=n(149),dn={user:{},error:null},jn=n(18),ln={cart:JSON.parse(localStorage.getItem("user_cart")||"[]"),error:null},un={categories:[],error:null},bn={dishes:[],error:null},On={orders:[],error:null},hn=[],xn={myOrders:[],error:null},pn={allDishes:[],mySearch:[],error:null},mn={dishes:[],error:null},_n=[],fn=Object(sn.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.INIT_USER:return Object(Le.a)(Object(Le.a)({},e),{},{user:t.payload});case j.INIT_ERROR_USER:return Object(Le.a)(Object(Le.a)({},e),{},{error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.SEND_CART:return Object(Le.a)(Object(Le.a)({},e),{},{cart:[]});case Se.INCREMENT_CART:var n=Object(jn.a)(e.cart),r=!1;return n.map((function(e){return e.id===t.payload.id?(e.quantity+=1,e.price+=e.initialPrice,r=!0,e):e})),!1===r&&(t.payload.quantity=1,t.payload.initialPrice=t.payload.price,n.push(t.payload)),Object(Le.a)(Object(Le.a)({},e),{},{cart:n});case Se.DECREMENT_CART:var c=Object(jn.a)(e.cart);return c.map((function(e){return e.id===t.payload.id?(e.quantity>1&&(e.price-=e.initialPrice,e.quantity-=1),e):e})),Object(Le.a)(Object(Le.a)({},e),{},{cart:c});case Se.DELETE_ONE_POSITION:return Object(Le.a)(Object(Le.a)({},e),{},{cart:Object(jn.a)(e.cart).filter((function(e){return e.id!==t.payload}))});case Se.INIT_ERROR:return Object(Le.a)(Object(Le.a)({},e),{},{error:t.payload});default:return e}},adminOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt.GET_ORDERS:return Object(Le.a)(Object(Le.a)({},e),{},{orders:Object(jn.a)(t.payload)});case bt.CHANGE_STATUS_ORDER:return(hn=Object(jn.a)(e.orders)).forEach((function(e){e.id===t.payload.id&&(e=Object(Le.a)(Object(Le.a)({},e),{},{currentStatus:t.payload.currentStatus}))})),Object(Le.a)(Object(Le.a)({},e),{},{orders:Object(jn.a)(hn)});case bt.DELETE_DISH:var n=Object(jn.a)(e.orders);return n.forEach((function(e){e.id===t.payload.orderId&&e.dishes.filter((function(e){return e.id!==t.payload.dishId})),console.log(e.dishes)})),Object(Le.a)(Object(Le.a)({},e),{},{orders:n});case bt.CHANGE_ORDER:return e;case bt.INIT_ERROR_ORDER:return Object(Le.a)(Object(Le.a)({},e),{},{error:t.payload});default:return e}},adminOrdersDishes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;return t.type===bt.DELETE_DISH?((_n=Object(jn.a)(e.dishes)).filter((function(e){return e.id!==t.payload.orderId})),Object(Le.a)(Object(Le.a)({},e),{},{dishes:_n})):e},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;return t.type===se.INIT_CATEGORIES?Object(Le.a)(Object(Le.a)({},e),{},{categories:t.payload}):e},dishes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe.INIT_DISHES:return Object(Le.a)(Object(Le.a)({},e),{},{dishes:t.payload});case Qe.INIT_ERROR_DISHES:return Object(Le.a)(Object(Le.a)({},e),{},{error:t.payload});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;return t.type===$e.INIT_MY_ORDERS?Object(Le.a)(Object(Le.a)({},e),{},{myOrders:t.payload}):e},allDishes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.GET_ALL_DISHES:return Object(Le.a)(Object(Le.a)({},e),{},{allDishes:t.payload});case he.INIT_SEARCH:var n=Object(jn.a)(e.allDishes.dishes).filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())}));return Object(Le.a)(Object(Le.a)({},e),{},{mySearch:n});case he.ERROR_ALL_DISHES:return Object(Le.a)(Object(Le.a)({},e),{},{error:t.payload});default:return e}}}),gn=fn,En=n(39),vn=n.n(En),yn=n(150),Rn=n(32),Tn=vn.a.mark(Dn),Sn=vn.a.mark(wn),Cn=vn.a.mark(An),Nn=vn.a.mark(Ln);function In(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(yn.a)(vn.a.mark((function e(t){var n,r,c,a,s,i;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.method,c=t.headers,a=t.body,e.next=3,fetch(n,{method:r,headers:c,body:a,credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e){var t;return vn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Rn.a)(In,{url:"/cart",method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e.payload)});case 3:return t=n.sent,n.next=6,Object(Rn.b)({type:Se.SEND_CART,payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Rn.b)({type:Se.INIT_ERROR,payload:n.t0});case 12:case"end":return n.stop()}}),Tn,null,[[0,8]])}function wn(){var e;return vn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Rn.a)(In,{url:"/categories",method:"GET",headers:{"content-type":"application/json"}});case 3:return e=t.sent,t.next=6,Object(Rn.b)({type:se.INIT_CATEGORIES,payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Rn.b)({type:se.INIT_ERROR_CATEGORIES,payload:t.t0});case 12:case"end":return t.stop()}}),Sn,null,[[0,8]])}function An(e){var t;return vn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Rn.a)(In,{url:"/categories/".concat(e.payload),method:"GET",headers:{"content-type":"application/json"}});case 3:return t=n.sent,n.next=6,Object(Rn.b)({type:Qe.INIT_DISHES,payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Rn.b)({type:Qe.INIT_ERROR_DISHES,payload:n.t0});case 12:case"end":return n.stop()}}),Cn,null,[[0,8]])}function Ln(){return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Rn.c)(Se.POST_SEND_CART,Dn);case 2:return e.next=4,Object(Rn.c)(se.GET_FETCH_CATEGORIES,wn);case 4:return e.next=6,Object(Rn.c)(Qe.GET_FETCH_DISHES,An);case 6:case"end":return e.stop()}}),Nn)}var Gn=n(153),Hn=Object(Gn.a)(),Fn=Object(sn.createStore)(gn,Object(on.composeWithDevTools)(Object(sn.applyMiddleware)(Hn)));Hn.run(Ln);var Bn=Fn;s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(i.a,{store:Bn,children:Object(u.jsx)(an,{})})}),document.getElementById("root"))},36:function(e,t,n){e.exports={link:"Nav_link__1CVGd",link_header:"Nav_link_header__1XXCC",nav:"Nav_nav__3gICw"}},47:function(e,t,n){e.exports={dishesList:"EditDish_dishesList__1vuIg",margin:"EditDish_margin__24MNW",select:"EditDish_select__3bwjC",marginSelect:"EditDish_marginSelect__1a-5I",button:"EditDish_button__3tjks"}},59:function(e,t,n){e.exports={card:"AdminCardOrder_card__3llBS",card__fieldButton:"AdminCardOrder_card__fieldButton__1p1b2",card__button:"AdminCardOrder_card__button__1siRO",card__description:"AdminCardOrder_card__description__2jSUz"}},65:function(e,t,n){e.exports={footer:"SFooter_footer__2GUy5",icons:"SFooter_icons__-7uHa",icon:"SFooter_icon__IXBKk"}},66:function(e,t,n){e.exports={card:"AdminEditCardOrder_card__25i6w",card__fieldButton:"AdminEditCardOrder_card__fieldButton__3lhmm",card__button:"AdminEditCardOrder_card__button__12M8U",card__description:"AdminEditCardOrder_card__description__1-6QW"}},86:function(e,t,n){e.exports={cookTaskList:"CookTaskList_cookTaskList__1rNzV",cookTaskList__title:"CookTaskList_cookTaskList__title__2KnRP",cookTaskList__container:"CookTaskList_cookTaskList__container__rS8aT"}},87:function(e,t,n){e.exports={adminTaskList:"AdminTaskList_adminTaskList__2PkWn",adminTaskList__title:"AdminTaskList_adminTaskList__title__1xVxW",adminTaskList__container:"AdminTaskList_adminTaskList__container__-FkgF"}}},[[179,1,2]]]);
//# sourceMappingURL=main.e455c306.chunk.js.map